api:
  api_root: <%= @env_config["ship_it_root"] %>
  username: <%= @env_config["ship_it_username"] %>
  password: <%= @env_config["ship_it_password"] %>

release-runner:
  notify_from: <%= scope.lookupvar('config::releaserunner_notify_from') %>
  notify_to: <%= @env_config["notify_to"] %>
  notify_to_announce: <%= @env_config["notify_to_announce"] %>
  smtp_server: <%= scope.lookupvar('config::releaserunner_smtp_server') %>
  hg_host: <%= scope.lookupvar('config::releaserunner_hg_host') %>
  hg_username: <%= scope.lookupvar('config::releaserunner_hg_username') %>
  hg_ssh_key: <%= scope.lookupvar('config::releaserunner_hg_ssh_key') %>
  buildbot_configs: <%= @env_config["releaserunner_buildbot_configs"] %>
  buildbot_configs_branch: <%= @env_config["releaserunner_buildbot_configs_branch"] %>
  buildbotcustom: <%= scope.lookupvar('config::releaserunner_buildbotcustom') %>
  buildbotcustom_branch: <%= scope.lookupvar('config::releaserunner_buildbotcustom_branch') %>
  tools: <%= scope.lookupvar('config::releaserunner_tools') %>
  tools_branch: <%= scope.lookupvar('config::releaserunner_tools_branch') %>
  masters_json: <%= scope.lookupvar('config::releaserunner_production_masters') %>
  sendchange_master: <%= scope.lookupvar('config::releaserunner_sendchange_master') %>
  staging: false
  verbose: true
  sleeptime: 30
  ssh_username: <%= scope.lookupvar('config::releaserunner_ssh_username') %>
  ssh_key: <%= scope.lookupvar('users::builder::home') %>/.ssh/release-runner
  docker_worker_key: <%= scope.lookupvar('releaserunner2::settings::root') %>/docker-worker-pub.pem
  python: <%= scope.lookupvar('releaserunner2::settings::root') %>/bin/python
  gen_script: <%= scope.lookupvar('releaserunner2::settings::tools_dst') %>/buildfarm/release/releasetasks_graph_gen.py
  release_runner_config: <%= scope.lookupvar('releaserunner2::settings::root') %>/release-runner.yml
  relconfigs_root: <%= scope.lookupvar('users::builder::home') %>/releasetasks/releasetasks/release_configs
  relconfigs_prefix: <%= @env_config["releasetasks_relconfigs_prefix"] %>

taskcluster:
  client_id: <%= @env_config["taskcluster_client_id"] %>
  access_token: <%= @env_config["taskcluster_access_token"] %>

symlinks:
  production_config.py: "{buildbot_configs}/mozilla/localconfig.py"
  thunderbird_production_config.py: "{buildbot_configs}/mozilla/thunderbird_localconfig.py"

balrog:
  username: <%= @env_config["balrog_username"] %>
  password: <%= @env_config["balrog_password"] %>

beetmover:
  aws_access_key_id: <%= @env_config["beetmover_aws_access_key_id"] %>
  aws_secret_access_key: <%= @env_config["beetmover_aws_secret_access_key"] %>

signing:
  pvt_key: <%= scope.lookupvar("config::releaserunner2_root") %>/id_rsa
  gpg_key_path: <%= scope.lookupvar('releaserunner2::settings::tools_dst') %>/<%= @env_config["releaserunner_gpg_key_path"] %>


releases:
  - product: fennec
    pattern: Fennec-.*
    checks:
      - long_revision
      - check_allowed_branches
    allowed_branches: <%= require "json"; JSON.generate(Array(@env_config["allowed_branches"])) %>
